/* ==========================================================
   MEATZE ADMIN UI — CLEAN & SCOPED
   ========================================================== */

/* ===== Guard: изоляция от base.html ===== */
.mz-admin-scope,
.mz-admin-scope * {
  box-sizing: border-box;
  min-width: 0;
}

/* ===== Design tokens (только для админки) ===== */
.mz-admin-scope{
  --mz-primary:#0e73b8;
  --mz-primary-600:#0a5b93;

  --mz-ink:#142333;
  --mz-muted:#6b7a90;
  --mz-border:#e6eef6;

  --mz-card:#ffffff;
  --mz-shadow-soft:0 10px 30px rgba(0,0,0,.08);

  --mz-radius:14px;
  --mz-radius-pill:999px;
  --mz-max:1100px;

  --mz-focus:0 0 0 3px rgba(14,115,184,.25);
}

/* ===== Layout ===== */
.mz-admin-scope .mz-shell{
  max-width:var(--mz-max);
  margin:0 auto;
}

/* ===== Cards ===== */
.mz-admin-scope .mz-card{
  background:var(--mz-card);
  border:1px solid var(--mz-border);
  border-radius:var(--mz-radius);
  padding:14px;
  margin:12px 0;
  box-shadow:var(--mz-shadow-soft);
}

/* ===== Text ===== */
.mz-admin-scope .mz-title,
.mz-admin-scope h3{
  color:var(--mz-ink);
  margin-top:0;
}
.mz-admin-scope .mz-help{
  color:var(--mz-muted);
  font-size:12.5px;
}

/* ===== Forms ===== */
.mz-admin-scope .mz-inp,
.mz-admin-scope .mz-sel,
.mz-admin-scope textarea{
  width:100%;
  max-width:100%;
  display:block;
  padding:10px 12px;
  border:1px solid var(--mz-border);
  border-radius:10px;
  background:#fff;
  color:var(--mz-ink);
}

.mz-admin-scope textarea{ resize:vertical; }

.mz-admin-scope .mz-inp::placeholder,
.mz-admin-scope textarea::placeholder{
  color:#94a3b8;
  opacity:1;
}

.mz-admin-scope .mz-inp:focus,
.mz-admin-scope .mz-sel:focus,
.mz-admin-scope textarea:focus{
  outline:none;
  border-color:var(--mz-primary);
  box-shadow:var(--mz-focus);
}

/* ===== Password eye ===== */
.mz-admin-scope .mz-eye-wrap{
  position:relative;
  display:flex;
  align-items:center;
}
.mz-admin-scope .mz-eye-wrap .mz-inp{
  padding-right:44px;
}
.mz-admin-scope .mz-eye-btn{
  position:absolute;
  right:6px;
  top:50%;
  transform:translateY(-50%);
  width:34px;
  height:34px;
  border-radius:8px;
  border:1px solid var(--mz-border);
  background:#fff;
  cursor:pointer;
}

/* ===== Buttons ===== */
.mz-admin-scope .mz-btn{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--mz-primary);
  background:linear-gradient(
    135deg,
    var(--mz-primary),
    var(--mz-primary-600)
  );
  color:#fff;
  cursor:pointer;
  font-weight:600;
}
.mz-admin-scope .mz-btn.link{
  background:#fff;
  color:var(--mz-primary);
  border-color:var(--mz-border);
}
.mz-admin-scope .mz-btn.danger{
  background:#b90e2e;
  border-color:#f3c7d0;
}

/* ===== Rows / grids ===== */
.mz-admin-scope .mz-row{
  display:grid;
  gap:8px;
}
.mz-admin-scope .mz-row > *{ min-width:0; }

@media (max-width:900px){
  .mz-admin-scope .mz-row.cols-2{
    grid-template-columns:1fr !important;
  }
}

/* ===== Pillbar / Tabs ===== */
.mz-admin-scope #adm-pills .pillbar{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}
.mz-admin-scope .pill{
  border-radius:var(--mz-radius-pill);
  padding:10px 14px;
  border:1px solid var(--mz-border);
  background:#fff;
  color:var(--mz-ink);
  font-weight:700;
}
.mz-admin-scope .pill[aria-current="true"]{
  background:var(--mz-primary);
  color:#fff;
  border-color:var(--mz-primary);
}

/* ===== Panels visibility ===== */
.mz-admin-scope .mz-pane[data-active="false"]{ display:none !important; }
.mz-admin-scope .mz-pane[data-active="true"]{ display:block; }

/* ===== Tables ===== */
.mz-admin-scope .mz-table{
  width:100%;
  border-collapse:collapse;
}
.mz-admin-scope .mz-table th,
.mz-admin-scope .mz-table td{
  padding:8px;
  border-bottom:1px solid #eef2f7;
  text-align:left;
  vertical-align:top;
  font-size:14px;
}

/* ===== Actions column ===== */
.mz-admin-scope .mz-actions-col{
  width:56px;
  text-align:center;
}
.mz-admin-scope .mz-actions{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
}
.mz-admin-scope .mz-actions .mz-btn{
  width:36px;
  height:36px;
  padding:0;
  border-radius:12px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

/* ===== Chips ===== */
.mz-admin-scope .mz-chipbox{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.mz-admin-scope .mz-chip{
  border:1px solid var(--mz-border);
  background:#fbfdff;
  border-radius:999px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:600;
}
.mz-admin-scope .mz-chip[aria-pressed="true"]{
  color:#fff;
  border-color:transparent;
  background:linear-gradient(
    135deg,
    var(--mz-primary),
    var(--mz-primary-600)
  );
}

/* ===== Teachers chips grid ===== */
.mz-admin-scope #mzc-ca-teachers-chips{
  display:grid;
  gap:8px;
  grid-template-columns:1fr;
  max-width:560px;
  margin:8px auto;
}
@media (min-width:840px){
  .mz-admin-scope #mzc-ca-teachers-chips{
    grid-template-columns:1fr 1fr;
  }
}
.mz-admin-scope .mz-inp,
.mz-admin-scope .mz-sel,
.mz-admin-scope textarea{
  width:100%;
  max-width:100%;
  display:block;
  padding:10px 12px;
  border:1px solid #cbd5e1;          /* темнее, чем было */
  border-radius:10px;
  background:rgba(255,255,255,.92);   /* чуть “объёмнее” */
  color:var(--mz-ink);
  box-shadow: inset 0 1px 2px rgba(15,23,42,.08);
}

.mz-admin-scope .mz-inp:focus,
.mz-admin-scope .mz-sel:focus,
.mz-admin-scope textarea:focus{
  outline:none;
  border-color:var(--mz-primary);
  box-shadow: var(--mz-focus), inset 0 1px 2px rgba(15,23,42,.06);
}
/* ===== Dropdown actions ===== */
.mz-admin-scope .mz-dd{ position:relative; display:inline-block; }

.mz-admin-scope .mz-dd-btn{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--mz-border);
  background:#fff;
  color:var(--mz-ink);
  font-weight:700;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
}

.mz-admin-scope .mz-dd-btn:focus{
  outline:none;
  box-shadow: var(--mz-focus);
  border-color: var(--mz-primary);
}

.mz-admin-scope .mz-dd-menu{
  position:absolute;
  right:0;
  top:calc(100% + 8px);
  min-width:170px;
  background:#fff;
  border:1px solid var(--mz-border);
  border-radius:12px;
  box-shadow: 0 16px 40px rgba(0,0,0,.12);
  padding:6px;
  display:none;
  z-index:50;
}

.mz-admin-scope .mz-dd[data-open="true"] .mz-dd-menu{ display:block; }

.mz-admin-scope .mz-dd-item{
  width:100%;
  text-align:left;
  border:0;
  background:transparent;
  padding:10px 10px;
  border-radius:10px;
  cursor:pointer;
  font-weight:650;
  color:var(--mz-ink);
  display:flex;
  align-items:center;
  gap:8px;
}

.mz-admin-scope .mz-dd-item:hover{
  background: rgba(14,115,184,.08);
}

.mz-admin-scope .mz-dd-item.danger{
  color:#b90e2e;
}
.mz-admin-scope .mz-dd-item.danger:hover{
  background: rgba(185,14,46,.10);
}
/* ===== Lock state: пока не введён пароль ===== */
.mz-admin-scope #adm-shell.is-locked #adm-pills{
  display:none !important;
}
.mz-admin-scope #adm-shell.is-locked .mz-pane{
  display:none !important;
}


/* ===== 3D Buttons ===== */
.mz-admin-scope .mz-btn{
  box-shadow:
    inset 0 -1px 0 rgba(255,255,255,.25),
    0 4px 0 rgba(10,91,147,.9),
    0 10px 20px rgba(15,23,42,.25);
  transform: translateY(0);
  transition:
    transform .12s ease,
    box-shadow .12s ease;
}

.mz-admin-scope .mz-btn:hover{
  transform: translateY(-1px);
}

.mz-admin-scope .mz-btn:active{
  transform: translateY(2px);
  box-shadow:
    inset 0 2px 4px rgba(0,0,0,.25),
    0 2px 0 rgba(10,91,147,.9),
    0 6px 12px rgba(15,23,42,.18);
}
.mz-admin-scope .mz-actions .mz-btn{
  box-shadow:
    0 3px 0 rgba(10,91,147,.8),
    0 8px 14px rgba(15,23,42,.22);
}

.mz-admin-scope .mz-actions .mz-btn:active{
  transform: translateY(2px);
  box-shadow:
    0 1px 0 rgba(10,91,147,.8),
    0 4px 8px rgba(15,23,42,.18);
}
/* ===== 3D Pills ===== */
.mz-admin-scope .pill{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.9),
    0 2px 4px rgba(15,23,42,.12);
  transition:
    transform .15s ease,
    box-shadow .15s ease;
}

.mz-admin-scope .pill:hover{
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.9),
    0 6px 14px rgba(15,23,42,.18);
}

.mz-admin-scope .pill[aria-current="true"]{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    0 6px 16px rgba(14,115,184,.45);
}
/* ===== 3D Inputs ===== */
.mz-admin-scope .mz-inp,
.mz-admin-scope .mz-sel,
.mz-admin-scope textarea{
  box-shadow:
    inset 0 2px 4px rgba(15,23,42,.10),
    0 1px 0 rgba(255,255,255,.8);
}

.mz-admin-scope .mz-inp:focus,
.mz-admin-scope .mz-sel:focus,
.mz-admin-scope textarea:focus{
  box-shadow:
    var(--mz-focus),
    inset 0 2px 4px rgba(15,23,42,.10),
    0 4px 12px rgba(14,115,184,.18);
}
/* ===== Table row 3D hover ===== */
.mz-admin-scope .mz-table tbody tr{
  transition: transform .16s ease, box-shadow .16s ease, background-color .16s ease;
}

.mz-admin-scope .mz-table tbody tr:hover{
  background: rgba(14,115,184,.045);
  transform: translateY(-1px);
  box-shadow: 0 10px 18px rgba(15,23,42,.10);
}

/* чтобы тень “виделась” — строку делаем как слой */
.mz-admin-scope .mz-table tbody tr{
  position: relative;
  z-index: 0;
}
.mz-admin-scope .mz-table tbody tr:hover{
  z-index: 2;
}

/* чуть мягче края у ячеек на hover */
.mz-admin-scope .mz-table tbody tr:hover td:first-child{ border-top-left-radius:12px; border-bottom-left-radius:12px; }
.mz-admin-scope .mz-table tbody tr:hover td:last-child{  border-top-right-radius:12px; border-bottom-right-radius:12px; }
/* ===== Pills micro-anim ===== */
.mz-admin-scope #adm-pills .pillbar{ position:relative; }

.mz-admin-scope .pill{
  transition: transform .14s ease, box-shadow .14s ease, background-color .14s ease, color .14s ease;
}

/* маленький "pop" при активации */
.mz-admin-scope .pill.is-pop{
  animation: mzPillPop .22s ease;
}
@keyframes mzPillPop{
  0%{ transform: translateY(0) scale(1); }
  40%{ transform: translateY(-1px) scale(1.03); }
  100%{ transform: translateY(0) scale(1); }
}

/* underline-ползунок */
.mz-admin-scope #adm-pills .pillbar::after{
  content:"";
  position:absolute;
  left: var(--mz-pill-x, 0px);
  top: var(--mz-pill-y, calc(100% + 6px)); /* ✅ теперь динамически */
  width: var(--mz-pill-w, 0px);
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--mz-primary), var(--mz-primary-600));
  box-shadow: 0 8px 16px rgba(14,115,184,.28);
  transition: left .22s ease, top .22s ease, width .22s ease; /* ✅ добавили top */
  pointer-events:none;
}
/* ==========================================================
   ADMIN · Custom checkbox (isolated, safe)
   ========================================================== */

.mz-admin-scope .mz-check{
  display:inline-flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  user-select:none;
  color:var(--mz-ink);
  font-size:13.5px;
}

/* прячем нативный checkbox, но оставляем доступным */
.mz-admin-scope .mz-check input{
  position:absolute;
  opacity:0;
  pointer-events:none;
}

/* визуальный чекбокс */
.mz-admin-scope .mz-check-ui{
  width:18px;
  height:18px;
  border-radius:5px;
  border:2px solid var(--mz-border);
  background:#fff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:
    background .15s ease,
    border-color .15s ease,
    box-shadow .15s ease,
    transform .12s ease;
  box-shadow:
    inset 0 1px 2px rgba(15,23,42,.12),
    0 1px 0 rgba(255,255,255,.9);
}

/* галочка */
.mz-admin-scope .mz-check-ui::after{
  content:"";
  width:6px;
  height:10px;
  border-right:2px solid #fff;
  border-bottom:2px solid #fff;
  transform: rotate(45deg) scale(0);
  transition: transform .12s ease;
}

/* checked */
.mz-admin-scope .mz-check input:checked + .mz-check-ui{
  background:linear-gradient(
    135deg,
    var(--mz-primary),
    var(--mz-primary-600)
  );
  border-color:var(--mz-primary);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.35),
    0 3px 10px rgba(14,115,184,.35);
}

.mz-admin-scope .mz-check input:checked + .mz-check-ui::after{
  transform: rotate(45deg) scale(1);
}

/* hover */
.mz-admin-scope .mz-check:hover .mz-check-ui{
  transform: translateY(-1px);
}

/* focus (keyboard) */
.mz-admin-scope .mz-check input:focus + .mz-check-ui{
  box-shadow:
    var(--mz-focus),
    inset 0 1px 2px rgba(15,23,42,.12);
}

/* текст */
.mz-admin-scope .mz-check-label{
  line-height:1.2;
}
