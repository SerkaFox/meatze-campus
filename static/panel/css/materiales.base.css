/* =========================
   MATERIALS TAB BASE
   (cards/list, filters, upload, dropdown, receipt, search, buttons)
   ========================= */

/* === MATERIALS TAB === */
.mz-mat-card{
  padding: 16px 18px 18px;
  border-radius: 18px;
  position: relative;
}

.mz-mat-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}

.mz-mat-head-right{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.mz-mat-title{
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #e5e7eb;
}

.mz-mat-sub{
  margin: 2px 0 0;
  font-size: 0.8rem;
  color: #9ca3af;
}

.mz-mat-count{
  font-size: 0.76rem;
  padding: 4px 9px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.5);
  background: radial-gradient(circle at top, rgba(15,23,42,0.9), rgba(15,23,42,0.85));
  color: #e5e7eb;
  white-space: nowrap;
}

.mz-mat-audience{ margin: 8px 0 4px; }
.mz-mat-modfilters{
  margin-top: 6px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

/* Pills */
.mz-pill{
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.78rem;
  border: 1px solid rgba(148,163,184,0.5);
  background: rgba(15,23,42,0.8);
  color: #cbd5f5;
  text-decoration: none;
  cursor: pointer;
  transition: background 140ms ease, color 140ms ease, border-color 140ms ease,
              box-shadow 140ms ease, transform 100ms ease;
  white-space: nowrap;
}

.mz-pill:hover{
  background: rgba(30,64,175,0.9);
  border-color: rgba(191,219,254,0.7);
  color: #f9fafb;
  box-shadow: 0 0 0 1px rgba(15,23,42,0.9);
  transform: translateY(-1px);
}

.mz-pill.is-act{
  background: radial-gradient(circle at top, #22d3ee, #3b82f6);
  border-color: rgba(248,250,252,0.9);
  color: #0b1120;
  box-shadow:
    0 0 0 1px rgba(15,23,42,0.95),
    0 8px 18px rgba(37,99,235,0.7);
}

/* upload form */
.mz-upl-wrap{
  margin-top: 10px;
  padding: 10px 11px;
  border-radius: 14px;
  border: 1px dashed rgba(148,163,184,0.6);
  background: radial-gradient(circle at top left, rgba(30,64,175,0.35), rgba(15,23,42,0.9));
}

.mz-upl-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}

.mz-upl-label.pick{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 6px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.7);
  cursor:pointer;
  font-size:0.82rem;
  background: rgba(15,23,42,0.9);
  color:#e5e7eb;
}

.mz-upl-label.pick:hover{
  background: rgba(30,64,175,0.9);
  border-color: rgba(191,219,254,0.8);
}

.mz-upl-input,
.mz-upl-select{
  min-width:180px;
  padding:7px 9px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,0.6);
  background: rgba(15,23,42,0.95);
  color:#e5e7eb;
  font-size:0.82rem;
}

.mz-upl-input::placeholder{ color:#6b7280; }

/* hide module select when auto-module is active */
.mz-upl-row .mz-upl-select.is-hidden { display:none; }

/* files list */
.mz-mat-list{
  list-style:none;
  padding:0;
  margin:12px 0 0;
  display:grid;
  gap:8px;
}

.mz-mat-item{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:flex-start;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(30,64,175,0.7);
  background: radial-gradient(circle at top left, rgba(15,23,42,0.96), rgba(15,23,42,0.9));
}

.mz-mat-main{ min-width:0; }

/* title row supports “button-like link + copy btn” */
.mz-mat-title-file{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  margin:0 0 2px;
  font-size:0.88rem;
}

.mz-mat-title-file a{ color:#f9fafb; text-decoration:none; }
.mz-mat-title-file a:hover{ text-decoration:underline; }

.mz-mat-meta{
  font-size:0.78rem;
  color:#9ca3af;
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  align-items:center;
}

.mz-mat-dot{
  width:3px;height:3px;border-radius:999px;
  background: rgba(148,163,184,0.7);
}

.mz-mat-tag{
  font-size:0.72rem;
  padding:2px 7px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.7);
  background: radial-gradient(circle at top, rgba(15,23,42,0.9), rgba(15,23,42,0.85));
  color:#e5e7eb;
}
.mz-mat-tag.muted{ border-style:dashed; color:#9ca3af; }

/* mini chip */
.mz-chip-mini{
  display:inline-flex;
  align-items:center;
  gap:4px;
  font-size:0.7rem;
  padding:2px 6px;
  border-radius:999px;
  border:1px solid rgba(45,212,191,0.8);
  background: rgba(6,95,70,0.35);
  color:#a7f3d0;
  margin-top:3px;
}

/* actions (right column) */
.mz-mat-actions{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

/* file clear (x) */
.mz-file-clear{
  margin-left:6px;
  width:18px; height:18px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.8);
  background: rgba(15,23,42,0.95);
  color:#e5e7eb;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  line-height:1;
  cursor:pointer;
  padding:0;
}
.mz-file-clear:hover{
  background: rgba(185,28,28,0.9);
  border-color: rgba(254,202,202,0.9);
  color:#fef2f2;
}

/* === file download button look === */
.mz-file-link{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 6px 10px;
  border-radius: 12px;
  border: 1px solid rgba(148,163,184,0.55);
  background: rgba(15,23,42,0.75);
  color:#f9fafb;
  text-decoration:none;
  max-width: 100%;
  box-shadow: 0 0 0 1px rgba(15,23,42,0.6);
  transition: transform 120ms ease, background 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
}
.mz-file-link:hover{
  background: rgba(30,64,175,0.28);
  border-color: rgba(191,219,254,0.75);
  box-shadow: 0 10px 22px rgba(0,0,0,0.35);
  transform: translateY(-1px);
}

.mz-file-ico{
  width: 28px; height: 28px;
  border-radius: 10px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(148,163,184,0.45);
  background: rgba(15,23,42,0.85);
  font-size: 14px;
  flex: 0 0 auto;
}

/* ВАЖНО: чтобы не конфликтовало с tree — ограничиваем только в списке материалов */
.mz-mat-item .mz-file-name{
  min-width:0;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.mz-file-dl{
  margin-left: 6px;
  font-size: .72rem;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(34,211,238,0.55);
  background: rgba(8,145,178,0.18);
  color: #a5f3fc;
  white-space: nowrap;
}

/* chip (в списке файлов) — по умолчанию абсолют, но ниже мы делаем “static” для cards-mode */
.mz-file-chip{
  position:absolute;
  top:10px;
  right:10px;
  margin:0;
  z-index:2;
  pointer-events:none;
}
.mz-file-chip.is-undl{
  border-color: rgba(148,163,184,0.6);
  background: rgba(15,23,42,0.5);
  color: #e5e7eb;
}


}

/* ===== Upload CTA ===== */
.mz-mat-card{ padding-bottom: 74px; }

.mz-upload-cta{
  position: sticky;
  top: 10px;
  margin-left: auto;
  z-index: 5;
  display: inline-flex;
  padding: 12px 18px;
  border-radius: 14px;
  font-size: .92rem;
  font-weight: 800;
  letter-spacing: .02em;
  border: 1px solid rgba(34,211,238,.75);
  background: linear-gradient(180deg,#22d3ee,#3b82f6);
  color: #0b1120;
  box-shadow:
    0 2px 0 rgba(255,255,255,.25) inset,
    0 12px 26px rgba(37,99,235,.55);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .15s ease, filter .15s ease;
}
.mz-upload-cta:hover{
  transform: translateY(-2px);
  box-shadow:
    0 2px 0 rgba(255,255,255,.28) inset,
    0 18px 36px rgba(37,99,235,.75);
  filter: saturate(1.05);
}
.mz-upload-cta:active{
  transform: translateY(0);
  box-shadow:
    0 1px 0 rgba(0,0,0,.35) inset,
    0 6px 14px rgba(0,0,0,.45);
}

@media (max-width:720px){
  .mz-mat-card{ padding-bottom: 14px; }
  .mz-upload-cta{ position: static; width: 100%; margin-top: 10px; }
}

/* Breadcrumbs */
.mz-fold-bc{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}
.mz-bc{
  color:#e5e7eb;
  text-decoration:none;
  font-size:.82rem;
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.45);
  background:rgba(15,23,42,.75);
}
.mz-bc:hover{ background:rgba(30,64,175,.35); border-color:rgba(191,219,254,.65); }
.mz-bc-sep{ opacity:.5; color:#9ca3af; }

.mz-mat-zipall{ white-space:nowrap; }

/* Search */
.mz-mat-search { margin: 10px 0 0; }
.mz-search-row { display:flex; gap:8px; align-items:center; }
.mz-search-input {
  flex:1;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,.25);
  background:#0b1220;
  color:#e5e7eb;
}
.mz-search-clear{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,.25);
  background:transparent;
  color:#cbd5e1;
  cursor:pointer;
}

.mz-search-results{ margin-top:8px; border:1px solid rgba(148,163,184,.18); border-radius:12px; overflow:hidden; }
.mz-search-item{ width:100%; text-align:left; padding:10px 12px; background:rgba(15,23,42,.55); border:0; border-bottom:1px solid rgba(148,163,184,.12); cursor:pointer; }
.mz-search-item:hover { background:rgba(30,41,59,.75); }
.mz-search-name{ font-weight:600; color:#e5e7eb; }
.mz-search-path{ font-size:12px; color:#94a3b8; margin-top:2px; }
.mz-search-empty{ padding:12px; color:#94a3b8; }

/* Receipt block */
.mz-rec-card{
  margin-top: 14px;
  padding: 14px 14px 12px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.55);
  background: radial-gradient(circle at top left, rgba(16,185,129,0.14), rgba(15,23,42,0.92));
}
.mz-rec-title{
  margin: 0 0 4px;
  font-size: .9rem;
  font-weight: 700;
  letter-spacing: .04em;
  text-transform: uppercase;
  color:#e5e7eb;
}
.mz-rec-sub{
  margin: 0 0 10px;
  font-size: .78rem;
  color:#9ca3af;
}
.mz-rec-grid{ display:grid; gap:10px; }
.mz-rec-row{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(30,64,175,0.55);
  background: rgba(15,23,42,0.55);
}
.mz-rec-row input[type="checkbox"]{ width: 16px; height: 16px; }
.mz-rec-row.is-locked{ opacity:.82; border-style:dashed; }
.mz-rec-row.is-locked .mz-rec-hint{ color:#a7f3d0; }
.mz-rec-hint{
  font-size:.75rem;
  color:#9ca3af;
  margin-left:auto;
  white-space:nowrap;
}

/* Modules dropdown (MF → UF) */
.mz-mod-dd { position: relative; display: inline-flex; align-items: center; gap: 8px; }

.mz-mod-btn{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.55);
  background: rgba(15,23,42,0.85);
  color: #e5e7eb;
  cursor: pointer;
  font-size: .82rem;
  transition: transform 100ms ease, background 140ms ease, border-color 140ms ease;
  user-select: none;
}
.mz-mod-btn:hover{
  background: rgba(30,64,175,0.9);
  border-color: rgba(191,219,254,0.8);
  transform: translateY(-1px);
}

.mz-mod-menu{
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  z-index: 50;
  min-width: 260px;
  max-width: none;
  max-height: 320px;
  overflow: auto;
  padding: 8px;
  border-radius: 14px;
  border: 1px solid rgba(148,163,184,0.75);
  background: #0b1220;
  box-shadow: 0 14px 38px rgba(0,0,0,0.55);
  display: none;
}
.mz-mod-menu.is-open { display: block; }

.mz-mod-menu::-webkit-scrollbar { width: 10px; }
.mz-mod-menu::-webkit-scrollbar-thumb {
  background: rgba(148,163,184,0.35);
  border-radius: 999px;
  border: 2px solid #0b1220;
}
.mz-mod-menu::-webkit-scrollbar-track { background: transparent; }

.mz-mod-group{
  padding: 6px;
  border-radius: 12px;
  border: 1px solid rgba(30,64,175,0.35);
  background: rgba(15,23,42,0.55);
  margin-bottom: 8px;
}
.mz-mod-group:last-child { margin-bottom: 0; }

.mz-mod-mf{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 6px 8px;
  border-radius: 10px;
  color: #e5e7eb;
  font-weight: 700;
  font-size: .82rem;
}
.mz-mod-uf{
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 6px 8px 8px;
}
.mz-mod-link{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.45);
  background: rgba(15,23,42,0.75);
  color: #cbd5f5;
  text-decoration: none;
  font-size: .78rem;
  white-space: nowrap;
}
.mz-mod-link:hover{
  background: rgba(30,64,175,0.9);
  border-color: rgba(191,219,254,0.7);
  color: #f9fafb;
}
.mz-mod-link.is-act{
  background: radial-gradient(circle at top, #22d3ee, #3b82f6);
  border-color: rgba(248,250,252,0.9);
  color: #0b1120;
  box-shadow: 0 0 0 1px rgba(15,23,42,0.95), 0 8px 18px rgba(37,99,235,0.55);
}

@media (max-width: 720px) {
  .mz-mod-menu { min-width: 260px; max-width: 92vw; }
  .mz-mat-head { flex-direction: column; align-items: flex-start; }
  .mz-mat-actions { justify-content: flex-start; }
}

.mz-cards-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid rgba(148,163,184,.20);
}