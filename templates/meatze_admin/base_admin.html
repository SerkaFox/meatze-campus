{% extends "base.html" %}
{% load static %}
{% block content %}
<script>
  window.MZ_NOTIFY_URL = "{% static 'files/meatze_notify.mp3' %}";
</script>

{% block extra_head %}

<link rel="stylesheet" href="{% static 'meatze/admin/teachers.css' %}?v={% now 'U' %}">
<link rel="stylesheet" href="{% static 'meatze/admin/subs.css' %}">
<link rel="stylesheet" href="{% static 'meatze/admin/horarios.css' %}">
<link rel="stylesheet" href="{% static 'meatze/admin/cursos.css' %}">
<link rel="stylesheet" href="{% static 'meatze/admin/wa.css' %}">
<link rel="stylesheet" href="{% static 'meatze/admin/admin-ui.css' %}">

{% endblock %}


<div class="mz-admin-scope">
  <div id="adm-shell" class="mz-shell is-locked">


    <div id="adm-shared-gate" class="mz-card">
      <h3 class="mz-title">Administraci√≥n</h3>
      <p class="mz-help">Introduce la contrase√±a de administrador para acceder a los m√≥dulos.</p>

      <div style="display:grid;grid-template-columns:1fr auto;gap:8px;max-width:520px">
        <div class="mz-eye-wrap">
          <input id="adm-pass-shared" type="password" class="mz-inp" placeholder="Contrase√±a de la p√°gina">
          <button id="adm-eye-shared" class="mz-eye-btn" type="button" aria-label="Mostrar/ocultar">üëÅ</button>
        </div>
        <button id="adm-enter-shared" class="mz-btn" type="button">Entrar</button>
      </div>
<div class="mz-remember" style="margin-top:10px;max-width:520px">
  <label class="mz-check">
    <input id="adm-remember" type="checkbox">
    <span class="mz-check-ui"></span>
    <span class="mz-check-label">Recordarme en este dispositivo</span>
  </label>
</div>


      <div id="adm-gate-msg" class="mz-help" style="margin-top:6px"></div>
    </div>

    <div id="adm-pills" class="mz-card" role="tablist" aria-label="Administraci√≥n">
      <div class="pillbar">
        <button class="pill" data-mod="teachers">Docentes</button>
        <button class="pill" data-mod="cursos">Cursos</button>
        <button class="pill" data-mod="horarios">Horarios</button>
        <button class="pill" data-mod="subs">Subs & env√≠os</button>
        <button class="pill" data-mod="wa">WhatsApp</button>
		<button class="pill" data-mod="lanbide">Lanbide</button>

      </div>
    </div>

    {% include "meatze_admin/teachers.html" %}
    {% include "meatze_admin/cursos.html" %}
    {% include "meatze_admin/horarios.html" %}
    {% include "meatze_admin/subs.html" %}
    {% include "meatze_admin/wa.html" %}
	{% include "meatze_admin/lanbide.html" %}


  </div>
</div>
<script>
(function(){
  window.MEATZE = window.MEATZE || {};
  // —Ç–µ–∫—É—â–∏–π –º–æ–¥—É–ª—å –∞–¥–º–∏–Ω–∫–∏: teachers/cursos/horarios/subs/wa/lanbide
  window.MEATZE.HELP_UI = window.MEATZE.HELP_UI || "";

  function setMod(mod){
    window.MEATZE.HELP_UI = "admin_mod:" + String(mod || "");
  }

  // –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Äî –ø–æ–ø—Ä–æ–±—É–µ–º –≤–∑—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å (–µ—Å–ª–∏ –æ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≥–¥–µ-—Ç–æ)
  // –∏–Ω–∞—á–µ –æ—Å—Ç–∞–≤–∏–º –ø—É—Å—Ç—ã–º (–±—É–¥–µ—Ç –æ–±—â–∏–π help)
  const pills = document.getElementById("adm-pills");
  pills?.addEventListener("click", (e) => {
    const b = e.target.closest(".pill[data-mod]");
    if (!b) return;
    setMod(b.dataset.mod);
  });

  // gate state (locked/unlocked) ‚Äî —Ç–æ–∂–µ –ø–æ–ª–µ–∑–Ω–æ
  const enter = document.getElementById("adm-enter-shared");
  enter?.addEventListener("click", () => {
    // —ç—Ç–æ –Ω–µ —Ñ–∞–∫—Ç —á—Ç–æ –≤–æ—à–ª–∏, –Ω–æ —Ö–æ—Ç—è –±—ã –ø–æ–∫–∞–∂–µ–º help –ø—Ä–æ –≤—Ö–æ–¥
    window.MEATZE.HELP_UI = "admin_gate";
  });
})();
</script>
<script src="{% static 'meatze/admin/admin-core.js' %}
"></script>
<script src="{% static 'meatze/admin/teachers.js' %}?v={% now 'U' %}"></script>
<script src="{% static 'meatze/admin/cursos.js' %}
"></script>
<script src="{% static 'meatze/admin/horarios.js' %}?v={% now 'U' %}"></script>
<script src="{% static 'meatze/admin/subs.js' %}
"></script>
<script src="{% static 'meatze/admin/wa.js' %}
"></script>
<script src="{% static 'meatze/admin/lanbide.js' %}
"></script>

<style>
  .mz-remember { display:block; }
  #adm-remember{
    display:inline-block !important;
    width:18px; height:18px;
    appearance:auto !important;
    -webkit-appearance:auto !important;
    accent-color: var(--mz-primary, #0e73b8);
  }
</style>

{% endblock %}
